import{r as l,j as h}from"./index-CGLnw6iy.js";var Fe=Object.defineProperty,Ve=(e,t)=>{for(var r in t)Fe(e,r,{get:t[r],enumerable:!0})},N={};Ve(N,{ActiveEmoji:()=>Pe,Empty:()=>Ae,List:()=>Se,Loading:()=>Te,Root:()=>be,Search:()=>xe,SkinTone:()=>$e,SkinToneSelector:()=>Ie,Viewport:()=>ke});var de="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",J=["none","light","medium-light","medium","medium-dark","dark"];function B(e){return e.charAt(0).toUpperCase()+e.slice(1)}var F=2,I=null;function Y(e){try{I??(I=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch{}if(!I||(queueMicrotask(()=>{I&&(I=null)}),I.canvas.width=F,I.canvas.height=F,I.font=`2px ${de}`,I.textBaseline="middle",I.measureText(e).width>=F*2))return!1;I.fillStyle="#00f",I.fillText(e,0,0);let t=I.getImageData(0,0,F,F).data;I.clearRect(0,0,F,F),I.fillStyle="#f00",I.fillText(e,0,0);let r=I.getImageData(0,0,F,F).data;for(let o=0;o<F*F*4;o+=4)if(t[o]!==r[o]||t[o+1]!==r[o+1]||t[o+2]!==r[o+2])return!1;return!0}function Q(e,t,r){try{let o=e.getItem(t);if(!o)throw new Error(`No value found for "${t}".`);let i=JSON.parse(o);return r(i)}catch{return null}}function me(e,t,r){e.setItem(t,JSON.stringify(r))}function X(e){return t=>t===void 0?void 0:e(t)}function Z(e){return t=>t===null?null:e(t)}function H(e){if(typeof e!="string")throw new Error;return e}function U(e){if(typeof e!="number")throw new Error;return e}function ge(e){if(typeof e!="boolean")throw new Error;return e}function z(e){return t=>{if(typeof t!="object"||t===null)throw new Error;let r={};for(let o in e){let i=t[o];i===void 0&&e[o](void 0),r[o]=e[o](i)}return r}}function q(e){return t=>{if(!Array.isArray(t))throw new Error;return t.length>0&&e(t[0]),t}}var fe=(e,t)=>`${e}/${t}/data.json`,he=(e,t)=>`${e}/${t}/messages.json`,Me=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],ee="en",we=e=>`frimousse/data/${e}`,te="frimousse/metadata";async function re(e,t){try{return(await fetch(e,{method:"HEAD",signal:t})).headers.get("etag")}catch{return null}}async function ze(e,t,r){let[{emojis:o,emojisEtag:i},{messages:s,messagesEtag:a}]=await Promise.all([fetch(fe(e,t),{signal:r}).then(async n=>({emojis:await n.json(),emojisEtag:n.headers.get("etag")})),fetch(he(e,t),{signal:r}).then(async n=>({messages:await n.json(),messagesEtag:n.headers.get("etag")}))]);return{emojis:o,messages:s,emojisEtag:i,messagesEtag:a}}async function De(e,t,r){let[o,i]=await Promise.all([re(fe(e,t),r),re(he(e,t),r)]);return{emojisEtag:o,messagesEtag:i}}function Ne(e){return e.skins?e.skins.filter(t=>typeof t.tone=="number").reduce((t,r)=>{let o=J[r.tone];return t[o]=r.emoji,t},{}):void 0}async function oe(e,t,r){let{emojis:o,emojisEtag:i,messages:s,messagesEtag:a}=await ze(e,t,r),n=s.subgroups.find(d=>d.key==="country-flag"||d.key==="subdivision-flag"),m=s.groups.filter(d=>d.key!=="component"),u=o.filter(d=>"group"in d),g=m.map(d=>({index:d.order,label:B(d.message)})),c=s.skinTones.reduce((d,x)=>(d[x.key]=B(x.message),d),{}),p=u.map(d=>({emoji:d.emoji,category:d.group,version:d.version,label:B(d.label),tags:d.tags??[],countryFlag:n&&d.subgroup===n.order||void 0,skins:Ne(d)})),f={locale:t,emojis:p,categories:g,skinTones:c};return me(localStorage,we(t),{data:f,metadata:{emojisEtag:i,messagesEtag:a}}),f}function Le(e,t){let r=new Map;for(let a of e)r.has(a.version)||r.set(a.version,a.emoji);let o=[...r.keys()].sort((a,n)=>n-a),i=o[0]??0,s=Y("🇪🇺");if(typeof t=="number")return{emojiVersion:t,countryFlags:s};for(let a of o){let n=r.get(a);if(Y(n))return{emojiVersion:a,countryFlags:s}}return{emojiVersion:i,countryFlags:s}}var We=z({emojiVersion:U,countryFlags:ge}),Oe=z({data:z({locale:H,emojis:q(z({emoji:H,category:U,label:H,version:U,tags:q(H),countryFlag:X(ge),skins:X(z({light:H,"medium-light":H,medium:H,"medium-dark":H,dark:H}))})),categories:q(z({index:U,label:H})),skinTones:z({light:H,"medium-light":H,medium:H,"medium-dark":H,dark:H})}),metadata:z({emojisEtag:Z(H),messagesEtag:Z(H)})});async function Ue({locale:e,emojiVersion:t,emojibaseUrl:r,signal:o}){let i=typeof r=="string"?r:`https://cdn.jsdelivr.net/npm/emojibase-data@${typeof t=="number"?Math.floor(t):"latest"}`,s=Q(sessionStorage,te,We),a=Q(localStorage,we(e),Oe),n;if(!a)n=await oe(i,e,o);else if(s)n=a.data;else try{let{emojisEtag:u,messagesEtag:g}=await De(i,e,o);n=!u||!g||u!==a.metadata.emojisEtag||g!==a.metadata.messagesEtag?await oe(i,e,o):a.data}catch{n=a.data}s??(s=Le(n.emojis,t)),me(sessionStorage,te,s);let m=n.emojis.filter(u=>{let g=u.version<=s.emojiVersion;return u.countryFlag?g&&s.countryFlags:g});return{locale:e,emojis:m,categories:n.categories,skinTones:n.skinTones}}function ne(e){return Me.includes(e)?e:(console.warn(`Locale "${e}" is not supported, using "${ee}" instead.`),ee)}function ie(e){return J.includes(e)?e:(console.warn(`Skin tone "${e}" is not valid, using "none" instead.`),"none")}function Be(e,t){let r=[];if(t<=0)return r;for(let o=0,i=e.length;o<i;o+=t)r.push(e.slice(o,o+t));return r}function qe(e,t){if(!t)return e;let r=t.toLowerCase().trim(),o=new WeakMap;return e.filter(i=>{let s=0;i.label.toLowerCase().includes(r)&&(s+=10);for(let a of i.tags)a.toLowerCase().includes(r)&&(s+=1);return s>0?(o.set(i,s),!0):!1}).sort((i,s)=>(o.get(s)??0)-(o.get(i)??0))}function Je(e,t,r,o){let i=qe(e.emojis,o),s=[],a=[],n=[],m={},u=0,g=0;for(let c of i)m[c.category]||(m[c.category]=[]),m[c.category].push({emoji:r&&r!=="none"&&c.skins?c.skins[r]:c.emoji,label:c.label});for(let c of e.categories){let p=m[c.index];if(!p||p.length===0)continue;let f=Be(Array.from(p),t).map(d=>({categoryIndex:u,emojis:d}));s.push(...f),a.push({label:c.label,rowsCount:f.length,startRowIndex:g}),n.push(g),u++,g+=f.length}return{count:i.length,categories:a,categoriesStartRowIndices:n,rows:s,skinTones:e.skinTones}}function _e(e){let t={},r=null,o=null,i=new Set,s=()=>{if(r){t=r,r=null;for(let u of i)u(t)}o=null},a=()=>r??t,n=u=>{r??(r=t),Object.assign(r,typeof u=="function"?u(a()):u),o||(o=requestAnimationFrame(s))},m=u=>(i.add(u),()=>i.delete(u));return t=e(n,a),{get:a,set:n,subscribe:m}}function Ke(e){let[t]=l.useState(e);return t}function Ge(e){let t=l.createContext(null);return{useStore:()=>{let r=l.useContext(t);if(!r)throw new Error(e);return r},Provider:({store:r,children:o})=>h.jsx(t.Provider,{value:r,children:o})}}function P(e,t,r=Object.is){let[o,i]=l.useState(()=>t(e.get()));return l.useEffect(()=>e.subscribe(()=>{let s=t(e.get());i(a=>r(a,s)?a:s)}),[e,t,r]),l.useDebugValue(o),o}function M(e,t,r){let o=l.useCallback(i=>i[t],[t]);return P(e,o,r)}var ae=2;function Ye(e,t,r,o){let i=0;return _e((s,a)=>({locale:t,columns:r,skinTone:o,onEmojiSelect:e,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:n=>{var S;let m=a(),u=(n==null?void 0:n.data)??m.data,g=(n==null?void 0:n.categoryHeaderHeight)??m.categoryHeaderHeight,c=(n==null?void 0:n.rowHeight)??m.rowHeight,p=(n==null?void 0:n.viewportHeight)??m.viewportHeight;if(!u||u.rows.length===0||!g||!c||!p)return s({...n,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let f=0,d=0;for(let $ of u.categories)if(d++*g+$.startRowIndex*c<i)f+=g;else break;let x=u.categories.length*g+u.rows.length*c,v=Math.floor(ae*c/2),E=Math.ceil(ae*c/2),k=Math.min(i-f-v,x-p),C=k+p+E,w=Math.max(0,Math.floor(k/c)),b=Math.min(u.rows.length-1,Math.ceil(C/c)),j=(S=u.rows[w])==null?void 0:S.categoryIndex;return s(j===void 0&&n?n:{...n,viewportStartCategoryIndex:j,viewportStartRowIndex:w,viewportEndRowIndex:b})},onDataChange:n=>{a().updateViewportState({data:n,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:n=>{s({search:n,interaction:n?"keyboard":"none"})},onActiveEmojiChange:(n,m,u)=>{if(s({interaction:n,activeColumnIndex:m,activeRowIndex:u}),n!=="keyboard")return;let{listRef:g,viewportRef:c,rowHeight:p,viewportHeight:f,categoryHeaderHeight:d}=a(),x=g==null?void 0:g.current,v=c==null?void 0:c.current;if(!x||!v||!p||!d||!f)return;let E=u;E===0&&v.scrollTo({top:0,behavior:"instant"});let k=x.querySelector(`[aria-rowindex="${E}"]`);if(!(k instanceof HTMLElement))return;let C=k.offsetTop,w=getComputedStyle(k),b=Number.parseFloat(w.scrollMarginTop),j=Number.parseFloat(w.scrollMarginBottom),S=i+b;C<i+f/2&&(S+=d);let $=S+f-j;(C<S||C+p>$)&&v.scrollTo({top:Math.max(C<S+d?C-Math.max(d,b):C-f+p+j,0),behavior:"instant"})},onActiveEmojiReset:()=>{s({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:n=>{a().updateViewportState({rowHeight:n})},onCategoryHeaderHeightChange:n=>{a().updateViewportState({categoryHeaderHeight:n})},onViewportSizeChange:(n,m)=>{a().updateViewportState({viewportWidth:n,viewportHeight:m})},onViewportScroll:n=>{i=n,a().updateViewportState()}}))}var{useStore:T,Provider:Qe}=Ge("EmojiPicker.Root is missing.");function Xe(e){return e.search}function _(e){var t,r;return e.interaction==="none"||(r=(t=e.data)==null?void 0:t.rows[e.activeRowIndex])==null?void 0:r.emojis[e.activeColumnIndex]}function Ze(e){var t;return e.data===void 0||typeof((t=e.data)==null?void 0:t.count)=="number"&&e.data.count===0}function et(e){return e.data===null||e.viewportHeight===null||e.rowHeight===null||e.categoryHeaderHeight===null}function pe(e){var t;return(t=e.data)==null?void 0:t.rows.length}function tt(e){var t;return(t=e.data)==null?void 0:t.categories.length}function rt(e){var t;return(t=e.data)==null?void 0:t.categoriesStartRowIndices}function ot(e){var t;return(t=e.data)==null?void 0:t.skinTones}function ve(e,t){return(e==null?void 0:e.emoji)===(t==null?void 0:t.emoji)}function nt(e,t){return(e==null?void 0:e.categoryIndex)!==(t==null?void 0:t.categoryIndex)||(e==null?void 0:e.emojis.length)!==(t==null?void 0:t.emojis.length)?!1:!!(e!=null&&e.emojis.every((r,o)=>ve(r,t==null?void 0:t.emojis[o])))}var D="‍",se=new RegExp("\\p{Emoji_Modifier_Base}","u"),it=/\uFE0F$/,at=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,st={light:"🏻","medium-light":"🏼",medium:"🏽","medium-dark":"🏾",dark:"🏿"};function lt(e,t){if(!e.split(D).some(o=>se.test(o)))return e;let r=e.split(D).map(o=>o.replace(at,"")).join(D);return t==="none"?r:r.split(D).map((o,i,s)=>{let a=s.length>1;return!se.test(o)||a&&o==="🤝"?o:o.replace(it,"")+st[t]}).join(D)}function ut(e){return J.map(t=>({skinTone:t,emoji:lt(e,t)}))}function je(){let e=T(),t=P(e,_,ve);return l.useDeferredValue(t)}function ye(e="✋"){let t=T(),r=M(t,"skinTone"),o=l.useMemo(()=>ut(e),[e]),i=l.useCallback(s=>{t.set({skinTone:s})},[]);return[r,i,o]}function K(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null||Array.isArray(e)!==Array.isArray(t))return!1;let r=Object.keys(e),o=Object.keys(t);return r.length!==o.length?!1:r.every(i=>i in t&&e[i]===t[i])}function ct(...e){}function dt(e,t){let r=null;if(typeof window.requestIdleCallback=="function")r=window.requestIdleCallback(e,t);else{let o=Date.now();r=window.setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,(t==null?void 0:t.timeout)-(Date.now()-o))})},10)}return()=>{typeof window.cancelIdleCallback=="function"?window.cancelIdleCallback(r):window.clearTimeout(r)}}var V=typeof window<"u"?l.useLayoutEffect:l.useEffect;function mt(e){let t=l.useRef(e);return V(()=>{t.current=e}),l.useCallback((...r)=>t.current(...r),[])}function gt({emojiVersion:e,emojibaseUrl:t}){let[r,o]=l.useState(void 0),i=T(),s=M(i,"locale"),a=M(i,"columns"),n=M(i,"skinTone"),m=M(i,"search");return l.useEffect(()=>{let u=new AbortController,g=u.signal;return Ue({locale:s,emojiVersion:e,emojibaseUrl:t,signal:g}).then(c=>{o(c)}).catch(c=>{g.aborted||console.error(c)}),()=>{u.abort()}},[e,t,s]),l.useEffect(()=>{if(r)return dt(()=>{i.get().onDataChange(Je(r,a,n,m))},{timeout:100})},[r,a,n,m]),null}var be=l.forwardRef(({locale:e="en",columns:t=9,skinTone:r="none",onEmojiSelect:o=ct,emojiVersion:i,emojibaseUrl:s,onFocusCapture:a,onBlurCapture:n,children:m,style:u,...g},c)=>{let p=mt(o),f=Ke(()=>Ye(p,ne(e),t,ie(r))),[d,x]=l.useState(!1),v=l.useRef(null),E=l.useCallback(w=>{w&&(v.current=w,f.set({rootRef:v}))},[]);V(()=>{f.set({locale:ne(e)})},[e]),V(()=>{f.set({columns:t})},[t]),V(()=>{f.set({skinTone:ie(r)})},[r]);let k=l.useCallback(w=>{a==null||a(w);let{searchRef:b,viewportRef:j}=f.get(),S=w.target===(b==null?void 0:b.current)||w.target.hasAttribute("frimousse-search"),$=w.target===(j==null?void 0:j.current)||w.target.hasAttribute("frimousse-viewport");w.isDefaultPrevented()||(x(S||$),w.isDefaultPrevented()||(x(S||$),$?f.get().onActiveEmojiChange("keyboard",0,0):S&&f.get().search===""&&f.set({interaction:"none"})))},[a]),C=l.useCallback(w=>{n==null||n(w),!w.isDefaultPrevented()&&!w.currentTarget.contains(w.relatedTarget)&&x(!1)},[n]);return V(()=>{d||f.get().onActiveEmojiReset()},[d]),l.useImperativeHandle(c,()=>v.current),l.useEffect(()=>{if(!d)return;function w(b){if(b.defaultPrevented||!b.key.startsWith("Arrow")&&b.key!=="Enter")return;let{data:j,onEmojiSelect:S,onActiveEmojiChange:$,interaction:L,activeColumnIndex:W,activeRowIndex:O}=f.get();if(b.key==="Enter"){let R=_(f.get());R&&(b.preventDefault(),S(R))}if(b.key.startsWith("Arrow")){let R=W,y=O;if(b.preventDefault(),L!=="none"){if(j!=null&&j.rows&&j.rows.length>0)switch(b.key){case"ArrowLeft":{if(R===0){let A=y-1,G=j.rows[A];G&&(y=A,R=G.emojis.length-1)}else R-=1;break}case"ArrowRight":{if(R===j.rows[y].emojis.length-1){let A=y+1;j.rows[A]&&(y=A,R=0)}else R+=1;break}case"ArrowUp":{let A=j.rows[y-1];A&&(y-=1,A.emojis[R]||(R=A.emojis.length-1));break}case"ArrowDown":{let A=j.rows[y+1];A&&(y+=1,A.emojis[R]||(R=A.emojis.length-1));break}}$("keyboard",R,y)}else $("keyboard",0,0)}}return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[d]),V(()=>{let w=null,b=null,j=null,S=null,$=f.subscribe(y=>{v.current&&(w!==y.viewportWidth&&(w=y.viewportWidth,v.current.style.setProperty("--frimousse-viewport-width",`${y.viewportWidth}px`)),b!==y.viewportHeight&&(b=y.viewportHeight,v.current.style.setProperty("--frimousse-viewport-height",`${y.viewportHeight}px`)),j!==y.rowHeight&&(j=y.rowHeight,v.current.style.setProperty("--frimousse-row-height",`${y.rowHeight}px`)),S!==y.categoryHeaderHeight&&(S=y.categoryHeaderHeight,v.current.style.setProperty("--frimousse-category-header-height",`${y.categoryHeaderHeight}px`)))}),{viewportWidth:L,viewportHeight:W,rowHeight:O,categoryHeaderHeight:R}=f.get();return L&&v.current.style.setProperty("--frimousse-viewport-width",`${L}px`),W&&v.current.style.setProperty("--frimousse-viewport-height",`${W}px`),O&&v.current.style.setProperty("--frimousse-row-height",`${O}px`),R&&v.current.style.setProperty("--frimousse-category-header-height",`${R}px`),$},[]),h.jsx("div",{"data-focused":d?"":void 0,"frimousse-root":"",onBlurCapture:C,onFocusCapture:k,...g,ref:E,style:{"--frimousse-emoji-font":de,...u},children:h.jsxs(Qe,{store:f,children:[h.jsx(gt,{emojiVersion:i,emojibaseUrl:s}),m]})})}),xe=l.forwardRef(({value:e,defaultValue:t,onChange:r,...o},i)=>{let s=T(),a=l.useRef(null),n=l.useCallback(c=>{c&&(a.current=c,s.set({searchRef:a}))},[]),m=typeof e=="string",u=l.useRef(m);l.useEffect(()=>{u.current=m},[m]),V(()=>{s.set({search:typeof e=="string"?e:typeof t=="string"?t:""})},[]),V(()=>{typeof e=="string"&&s.get().onSearchChange(e)},[e]);let g=l.useCallback(c=>{r==null||r(c),c.isDefaultPrevented()||s.get().onSearchChange(c.target.value)},[r]);return l.useImperativeHandle(i,()=>a.current),h.jsx("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Search…",spellCheck:!1,type:"search",...o,defaultValue:t,onChange:g,ref:n,value:e})}),ft=l.memo(()=>{let e=je();return e?h.jsx("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:e.label}):null}),ke=l.forwardRef(({children:e,onScroll:t,onKeyDown:r,style:o,...i},s)=>{let a=T(),n=l.useRef(null),m=l.useCallback(p=>{p&&(n.current=p,a.set({viewportRef:n}))},[]),u=P(a,pe),g=P(a,tt),c=l.useCallback(p=>{t==null||t(p),a.get().onViewportScroll(p.currentTarget.scrollTop)},[t]);return V(()=>{if(!n.current)return;let p=new ResizeObserver(([f])=>{var C,w;let d=((C=f==null?void 0:f.borderBoxSize[0])==null?void 0:C.inlineSize)??0,x=((w=f==null?void 0:f.borderBoxSize[0])==null?void 0:w.blockSize)??0,{onViewportSizeChange:v,viewportHeight:E,viewportWidth:k}=a.get();(E!==x||k!==d)&&v(d,x)});return p.observe(n.current),a.get().onViewportSizeChange(n.current.offsetWidth,n.current.clientHeight),()=>{p.disconnect()}},[]),l.useImperativeHandle(s,()=>n.current),h.jsxs("div",{"frimousse-viewport":"",...i,onScroll:c,ref:m,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:typeof u=="number"&&typeof g=="number"?`var(--frimousse-viewport-width, auto) calc(${u} * var(--frimousse-row-height) + ${g} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...o},children:[h.jsx(ft,{}),e]})});function Ee(e,t,r){return{emoji:{...e,isActive:r},role:"gridcell","aria-colindex":t,"aria-selected":r||void 0,"aria-label":e.label,"data-active":r?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function Ce(e,t=!1){return{role:t?void 0:"row","aria-rowindex":t?void 0:e,"frimousse-row":"",style:{contain:t?void 0:"content",height:t?void 0:"var(--frimousse-row-height)",display:"flex"}}}function Re(e,t){return{"frimousse-category":"",style:{contain:"content",top:t?`calc(${e} * var(--frimousse-category-header-height) + ${t.startRowIndex} * var(--frimousse-row-height))`:void 0,height:t?`calc(var(--frimousse-category-header-height) + ${t.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function He(e,t=!1){return{category:e,"frimousse-category-header":"",style:{contain:t?void 0:"layout paint",height:t?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:"sticky",top:0}}}function le(e,t,r,o){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${e} * var(--frimousse-row-height) + ${t} * var(--frimousse-category-header-height))`,paddingTop:`calc(${r} * var(--frimousse-row-height) + ${o} * var(--frimousse-category-header-height))`}}}function ue(e,t,r){return{"aria-colcount":e,"aria-rowcount":t,"frimousse-list":"",style:{"--frimousse-list-columns":e,...r},role:"grid"}}function ht(e){e.preventDefault()}var wt=l.memo(({Emoji:e,emoji:t,columnIndex:r,rowIndex:o})=>{let i=T(),s=P(i,u=>{var g;return((g=_(u))==null?void 0:g.emoji)===t.emoji}),a=l.useCallback(()=>{i.get().onEmojiSelect(t)},[t]),n=l.useCallback(()=>{i.get().onActiveEmojiChange("pointer",r,o)},[r,o]),m=l.useCallback(()=>{i.get().onActiveEmojiReset()},[]);return h.jsx(e,{...Ee(t,r,s),onClick:a,onPointerDown:ht,onPointerEnter:n,onPointerLeave:m})}),pt=l.memo(({Row:e,Emoji:t,rowIndex:r})=>{let o=T(),i=P(o,s=>{var a;return(a=s.data)==null?void 0:a.rows[r]},nt);return i?h.jsx(e,{...Ce(r),children:i.emojis.map((s,a)=>h.jsx(wt,{Emoji:t,columnIndex:a,emoji:s,rowIndex:r},s.label))}):null}),vt=l.memo(({CategoryHeader:e,categoryIndex:t})=>{let r=T(),o=P(r,i=>{var s;return(s=i.data)==null?void 0:s.categories[t]},K);return o?h.jsx("div",{...Re(t,o),children:h.jsx(e,{...He({label:o.label})})}):null}),ce=l.memo(({CategoryHeader:e,Row:t,Emoji:r})=>{let o=l.useRef(null),i=T(),s=M(i,"columns"),a=l.useMemo(()=>Array(s).fill({emoji:"🙂",label:""}),[s]),n=l.useMemo(()=>({label:"Category"}),[]),m=l.useRef(null),u=l.useRef(null);return V(()=>{var d,x;let g=(x=(d=o.current)==null?void 0:d.parentElement)==null?void 0:x.parentElement;if(!g||!m.current||!u.current)return;let c=new ResizeObserver(v=>{for(let E of v){let k=E.contentRect.height,{onRowHeightChange:C,onCategoryHeaderHeightChange:w,rowHeight:b,categoryHeaderHeight:j}=i.get();E.target===m.current&&b!==k&&C(k),E.target===u.current&&j!==k&&w(k)}});c.observe(g),c.observe(m.current),c.observe(u.current);let{onRowHeightChange:p,onCategoryHeaderHeightChange:f}=i.get();return p(m.current.clientHeight),f(u.current.clientHeight),()=>{c.disconnect()}},[]),h.jsxs("div",{"aria-hidden":!0,ref:o,style:{height:0,visibility:"hidden"},children:[h.jsx("div",{"frimousse-row-sizer":"",ref:m,children:h.jsx(t,{...Ce(-1,!0),children:a.map((g,c)=>h.jsx(r,{...Ee(g,c,!1)},c))})}),h.jsx("div",{...Re(-1),children:h.jsx("div",{"frimousse-category-header-sizer":"",ref:u,children:h.jsx(e,{...He(n,!0)})})})]})});function jt({category:e,...t}){return h.jsx("div",{...t,children:e.label})}function yt({emoji:e,...t}){return h.jsx("button",{type:"button",...t,children:e.emoji})}function bt({...e}){return h.jsx("div",{...e})}var Se=l.forwardRef(({style:e,components:t,...r},o)=>{let i=T(),s=l.useRef(null),a=l.useCallback(E=>{E&&(s.current=E,i.set({listRef:s}))},[]),n=(t==null?void 0:t.CategoryHeader)??jt,m=(t==null?void 0:t.Emoji)??yt,u=(t==null?void 0:t.Row)??bt,g=M(i,"columns"),c=M(i,"viewportStartRowIndex"),p=M(i,"viewportEndRowIndex"),f=P(i,pe),d=P(i,rt,K),x=l.useMemo(()=>(d==null?void 0:d.filter(E=>E<c).length)??0,[d,c]),v=(d==null?void 0:d.length)??0;return l.useImperativeHandle(o,()=>s.current),!f||!d||v===0?h.jsx("div",{...ue(g,0,e),...r,children:h.jsx("div",{...le(0,0,0,0),children:h.jsx(ce,{CategoryHeader:n,Emoji:m,Row:u})})}):h.jsx("div",{...ue(g,f,e),...r,ref:a,children:h.jsxs("div",{...le(f,v,c,x),children:[h.jsx(ce,{CategoryHeader:n,Emoji:m,Row:u}),Array.from({length:p-c+1},(E,k)=>{let C=c+k,w=d.indexOf(C);return h.jsxs(l.Fragment,{children:[w>=0&&h.jsx("div",{style:{height:"var(--frimousse-category-header-height)"}}),h.jsx(pt,{Emoji:m,Row:u,rowIndex:C})]},C)}),Array.from({length:v},(E,k)=>h.jsx(vt,{CategoryHeader:n,categoryIndex:k},k))]})})}),Ie=l.forwardRef(({emoji:e,onClick:t,"aria-label":r="Change skin tone",...o},i)=>{let s=T(),a=P(s,ot,K),[n,m,u]=ye(e),g=l.useMemo(()=>Math.max(0,u.findIndex(v=>v.skinTone===n)),[n,u]),c=u[g],p=u[(g+1)%u.length].skinTone,f=n==="none"||a==null?void 0:a[n],d=p==="none"||a==null?void 0:a[p],x=l.useCallback(v=>{t==null||t(v),v.isDefaultPrevented()||m(p)},[t,m,p]);return h.jsx("button",{type:"button",...o,"aria-label":r+(d?` (${d})`:""),"aria-live":"polite","aria-valuetext":f,"frimousse-skin-tone-selector":"",onClick:x,ref:i,children:c.emoji})});function Te({children:e,...t}){let r=T();return P(r,et)?h.jsx("span",{"frimousse-loading":"",...t,children:e}):null}function xt({children:e}){let t=T(),r=P(t,Xe);return e({search:r})}function Ae({children:e,...t}){let r=T();return P(r,Ze)?h.jsx("span",{"frimousse-empty":"",...t,children:typeof e=="function"?h.jsx(xt,{children:e}):e}):null}function Pe({children:e}){let t=je();return e({emoji:t})}function $e({children:e,emoji:t}){let[r,o,i]=ye(t);return e({skinTone:r,setSkinTone:o,skinToneVariations:i})}be.displayName="EmojiPicker.Root";xe.displayName="EmojiPicker.Search";ke.displayName="EmojiPicker.Viewport";Se.displayName="EmojiPicker.List";Te.displayName="EmojiPicker.Loading";Ae.displayName="EmojiPicker.Empty";Ie.displayName="EmojiPicker.SkinToneSelector";Pe.displayName="EmojiPicker.ActiveEmoji";$e.displayName="EmojiPicker.SkinTone";function Et({onSelect:e}){return h.jsxs(N.Root,{columns:11,onEmojiSelect:t=>e(t.emoji),children:[h.jsxs("div",{className:"relative mt-2 ",children:[h.jsx(N.Search,{className:"z-10 w-9/10 mt-2 pl-8 appearance-none rounded-md bg-neutral-100 px-2.5 py-2 text-sm! dark:bg-neutral-800 "}),h.jsx("img",{src:"/glass.svg",alt:"loupe",className:"absolute w-4.5 -mt-7 ml-2 brightness-70"})]}),h.jsx(N.Viewport,{children:h.jsx(N.List,{})})]})}export{Et as MyEmojiPicker,Et as default};
